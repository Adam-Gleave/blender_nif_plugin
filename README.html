<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>The Blender NIF Scripts v2.0</title>
  <meta http-equiv="Content-Type"
 content="text/html; charset=ISO-8859-1" />
  <style type="text/css">
th { font-weight: bold; color: black; background: #D3DCE3}
h1 { text-align: center; color: black; background: #FF6600; }
h2 { text-align: center; color: black; background: #FFCC33; }
h3 { text-align: left; color: black; background: #FFCC66; }
a:link { text-decoration: none; color: #006699; background: transparent; }
a:visited { text-decoration: none; color: #006699; background: transparent; }
a:hover { text-decoration: underline; color: #DD6900; background: transparent; }
a:link.nav { color: #000000; background: transparent; }
a:visited.nav { color: #000000; background: transparent; }
a:hover.nav { color: #FF0000; background: transparent; }
.nav { color: #000000; background: transparent; }
  </style>
</head>
<body>
<h1>The Blender NIF Scripts v2.0</h1>
<h2>Release Notes</h2>
The Blender NIF Scripts have undergone serious changes since the last release. Although we have done our best to squash all bugs we could find, it is unlikely that we have found them all. If you find bugs, PLEASE REPORT THEM ON THE SOURCEFORGE TRACKER.
<h3>Highlights of this Release</h3>
<ul>
  <li>support of NIF versions up to 20.1.0.3 - this includes Oblivion and Megami Tensei Imagine</li>
  <li>revamped graphical user interface</li>
  <li>uses PyFFI which is a NifSkope-like file format parser written in Python</li>
  <li>recent builds of Blender support DDS (read only) so you no longer need to convert textures; you can get recent builds at <a href="http://www.graphicall.org">http://www.graphicall.org/</a></li>
</ul>
<h2>Support</h2>
<ul>
  <li><a href="http://sourceforge.net/tracker/?group_id=149157">http://sourceforge.net/tracker/?group_id=149157</a> for reporting bugs
  <li><a href="http://niftools.sourceforge.net/wiki/Blender">
http://niftools.sourceforge.net/wiki/Blender</a></li>
  <li><a href="http://niftools.sourceforge.net/forum/">http://niftools.sourceforge.net/forum/</a></li>
</ul>
<h2>Installation</h2>
<h3>Requirements</h3>
<ul>
  <li><strong><a href="http://www.blender.org/">Blender 2.44</a> or
higher</strong>; the scripts will not run on older versions
of Blender.</li>
  <li><strong><a href="http://www.python.org/">Python 2.5 or higher</a></strong>.
  <li><strong><a href="http://www.sourceforge.net/projects/pyffi/">PyFFI 0.0 or higher</a></strong>; the Blender NIF Scripts .exe installer will attempt to download and install PyFFI if you do not have it installed.
</ul>
<h3>Manual Install</h3>
<ul>
  <li><strong>If you installed Blender using the .exe installer, 
you're best off using the Blender NIF Scripts .exe 
installer.</strong> If you installed Blender from the .zip, then you 
should download the .zip and extract its contents in the 
Blender scripts directory. This is by default C:\Program Files\Blender
Foundation\Blender\.blender\scripts.
Restart Blender, and the options to import and export
NIF files will appear in the File-Import and File-Export menu's. <em>Make
sure you
have Python 2.5 and PyFFI installed as well!</em>
</li>
    </ul>
  </li>
</ul>
<h3>Using the Scripts with Morrowind</h3>
<ul>
  <li>If you wish to use Morrowind's textures in your models:
    <ul>
      <li>extract the contents of 'Morrowind.bsa' (and, if you
have the expansions, also 'Tribunal.bsa' and 'Bloodmoon.bsa') into
for instance 'c:\src\morrowind' (use <a
 href="http://www34.brinkster.com/ghostwheel/">BSAPACK</a>
or the <a href="http://www.thelys.org/toolsmisc.php?modders">BSA
Browser</a>; if you use the latter, make sure you copy the BSA files to
'c:\src\morrwind' before extracting them).</li>
    </ul>
  </li>
</ul>
<h3>Using the Scripts with Oblivion</h3>
<ul>
  <li>Oblivion support is not quite complete.
In particular, havok (physics) is not imported/exported.
Animation support is limited.
</li>
  <li>If you wish to use the Oblivion textures in your models, you can unpack
the BSA files using <a href="http://www34.brinkster.com/ghostwheel/">Ghostwheel's TES4 BSA unpacker</a>.</li>
</ul>
<h2>Exporter Notes</h2>
<h3>Usage</h3>
<ul>
  <li>create meshes (and empties, if you like) in Blender:
    <ul>
      <li>IMPORTANT: if you wish to animate meshes without using
armatures and bones, then, when grouping, always make parent without
inverse (in Object Mode, use CTRL-SHIFT-P)</li>
    </ul>
  </li>
  <li>create armatures and bones for animation
    <ul>
      <li>either edit bone envelopes, and parent your meshes to
armatures with vertex groups; the vertex weights will be constructed
using the bone envelopes</li>
      <li>or, simply parent meshes to bones (armature must be
in pose mode)</li>
      <li>make sure the vertex weights are set properly: select
the armature, go to pose mode, and play with the bones; the mesh should
deform along the bones</li>
      <li>insert pose mode keys in different frames (press I to
insert key, and select Rot, Loc, or LocRot) to compose your animation</li>
    </ul>
  </li>
  <li>create UV coordinates (be sure to check the blender
manual for more details)
    <ul>
      <li>create seams (3D View, Edit Mode, select seam
vertices, CTRL-E) </li>
      <li>in the 3D View, UV Face Select Mode, select all
faces, press U-&gt;LSCM </li>
      <li>(optional) if you want to create your own texture: in
the UV/Image Editor, UVs-&gt;Save UV Face Layout, and process the
saved texture with your favorite 2D paint program </li>
    </ul>
  </li>
  <li>add materials to your meshes, and add one texture to each
material, with the following settings:
    <ul>
      <li>texture map input: UV </li>
      <li>texture map output: COL for diffuse map (base texture)</li>
    </ul>
  </li>
  <li>for each texture:
    <ul>
      <li>set texture type to 'Image' </li>
      <li>either load a texture from 'c:\src\morrowind\textures',
or put your custom texture in the 'C:\Program Files\Morrowind\Data
Files\Textures' folder, and load it from there. Note that Blender does
not read .dds files.</li>
      <li>although this is not recommended, textures can be
embedded in your exported NIF file by toggling the "packed" button next to the "Reload" button in
the Image tab</li>
    </ul>
  </li>
  <li>(optional) animate meshes and/or empty objects (press I
to insert key, and select Rot, Loc, or LocRot; for now, only location and
rotation channels are exported); define the animation groups in a text
buffer called 'Anim' (import a Morrowind creature to get a feeling for
how this works; so far we only
support Morrowind-type animations) </li>
  <li>(optional) to export vertex colors, turn on the
VCOL_PAINT flag in the material tab </li>
  <li>(optional) Hull your model in a simple so-called
collision
mesh, which defines where the player cannot walk through (most of
Morrowind's static models have a collision mesh, you can see them in
the TES CS pressing F4 in the render window). You may want to create it
to speed up collision detection (recommended for complex models), to
help the player walk over objects
such as stairs, or to allow the player to walk through certain parts of
your model such as spider webs.
    <ul>
      <li>create a mesh called
'RootCollisionNode' (object name, not datablock name)</li>
      <li>don't apply any
material to it </li>
    </ul>
  </li>
  <li>(optional) if you suspect that some of the faces of your
meshes are not convex, then you should let blender triangulate these
meshes (press CTRL-T in edit mode with all vertices selected), because
in that case, Blender's triangulation algorithm gives better results
than the naive triangulation algorithm used in this script. </li>
  <li><strong>select the models that you wish to export</strong>,
and run this
script from the 'File-&gt;Export' menu. Note that the script looks
for unparented parents of the selected objects, and exports these root
objects along with all of their children, so you don't have to select
the whole model. </li>
</ul>
<h3>Limitations</h3>
<ul>
  <li>Particle effects, cameras, and lights are not exported. We
are working on it.</li>
  <li>Actions (for animation groups) are ignored. You should
define animation groups in text buffer called "Anim".</li>
</ul>
<h3>Known Issues and Workarounds </h3>
<ul>
  <li>Ambient and emit colors are obtained by multiplication
with the diffuse color.</li>
  <li>Blender double sided faces will be one sided in the NIF
file (workaround: duplicate faces, or even better, use NifSkope and add a NiStencilProperty).</li>
  <li>Export of directly animated meshes is buggy
unless
you parent without parent inverse
(CTRL-SHIFT-P). Workaround: don't animate meshes directly; instead,
parent meshes to the armature and animate the bones.</li>
  <li>Parenting meshes to bones is buggy unless the bind pose
coincides
with the current frame of animation. There's not much we can do about
it, this is due to a limitation in the Blender Python API.</li>
  <li>Non-uniformly scaled objects cannot be exported.
Workaround: apply size and rotation (CTRL-A). Unfortunately, this
workaround does not work on empties. </li>
</ul>
<h2>Importer Notes</h2>
<h3>Usage</h3>
<ul>
  <li>Launch the script, select the .NIF file you wish to
import,
and you are
set.</li>
</ul>
<h3>Limitations</h3>
<ul>
  <li>The script doesn't import particle
effects, multiple
UV channels...</li>
</ul>
<h3>Known Issues and Workarounds</h3>
<ul>
  <li>Objects that had originally multiple materials will get
imported
as seperate meshes. As a consequence, if you export them again they
cannot retain the original mesh name, which results in trouble when you
re-export rigged stuff such as clothing simply because Morrowind is
very picky about the names of nodes in rigged models: the engine must
know where to attach certain nodes in the structure, and it uses the
node name to do so. If you import rigged meshes with multiple
materials, you probably need NifSkope to sort things out on the
re-exported model.</li>
</ul>
<h2>License </h2>
<p> Copyright (c) 2005-2007, <a href="http://niftools.sourceforge.net/">NIF
File Format
Library and Tools</a><br />
All rights reserved. </p>
<p> Redistribution and use in source and binary forms, with or
without modification, are permitted provided that the following
conditions are met: </p>
<ul>
  <li>Redistributions of source code must retain the above
copyright notice, this list of conditions and the following disclaimer.
  </li>
  <li>Redistributions in binary form must reproduce the above
copyright notice, this list of conditions and the following disclaimer
in the documentation and/or other materials provided with the
distribution. </li>
  <li>Neither the name of the NIF File Format Library and Tools
project nor the names of its contributors may be used to endorse or
promote products derived from this software without specific prior
written permission. </li>
</ul>
<p> THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND
CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS
OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE
USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE. </p>
</body>
</html>
